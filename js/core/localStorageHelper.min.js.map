{"version":3,"sources":["wwwroot/js/core/localStorageHelper.js"],"names":["LocalStorageHelper","Get","localStorageNamesEnum","resultValue","localStorage","getItem","JSON","parse","LogProductClassIdView","productClassId","productName","productThumnailUrl","productUrl","listProductClass","LocalStorageNamesEnum","ViewProductClassificationIds","find","x","Classificationid","filter","el","productClassObject","ProductName","ProductThumnailUrl","ProductUrl","unshift","length","Math","min","setItem","stringify","LogCategory","categoryId","isView","isAddToCart","isPay","isComplete","listComplexCategory","UserCategoryList","existCategory","CategoryId","ViewCount","Number","MAX_SAFE_INTEGER","AddToCartCount","InOrderCount","CompleteCount","push","Init","document","addEventListener"],"mappings":"AAAA,aAMA,IAAIA,mBAAqB,CAKvBC,IAAK,SAAaC,GAChB,IAAIC,EAAcC,aAAaC,QAAQH,GACvC,OAAQC,EAAmBG,KAAKC,MAAMJ,GAAhB,IAExBK,sBAAuB,SAA+BC,EAAgBC,EAAaC,EAAoBC,GACrG,IAAIC,EAAmBT,aAAaC,QAAQS,sBAAsBC,+BAElEF,EAAoBA,EAAwBP,KAAKC,MAAMM,GAAhB,IACEG,KAAK,SAAUC,GACtD,OAAOA,EAAEC,mBAAqBT,MAI9BI,EAAmBA,EAAiBM,OAAO,SAAUC,GACnD,OAAOA,EAAGF,mBAAqBT,KAInC,IAAIY,EAAqB,CACvBH,iBAAkBT,EAClBa,YAAaZ,EACba,mBAAoBZ,EACpBa,WAAYZ,GAEdC,EAAiBY,QAAQJ,GACzBR,EAAiBa,OAASC,KAAKC,IAAIf,EAAiBa,OAAQ,IAC5DtB,aAAayB,QAAQf,sBAAsBC,6BAA8BT,KAAKwB,UAAUjB,KAE1FkB,YAAa,SAAqBC,EAAYC,EAAQC,EAAaC,EAAOC,GACxE,IAAIC,EAAsBjC,aAAaC,QAAQS,sBAAsBwB,kBAEjEC,GADJF,EAAuBA,EAA2B/B,KAAKC,MAAM8B,GAAhB,IACLrB,KAAK,SAAUC,GACrD,OAAOA,EAAEuB,aAAeR,IAGrBO,EAUCN,GAAUM,EAAcE,UAAYC,OAAOC,iBAC7CJ,EAAcE,WAAa,EAClBP,GAAeK,EAAcK,eAAiBF,OAAOC,iBAC9DJ,EAAcK,gBAAkB,EACvBT,GAASI,EAAcM,aAAeH,OAAOC,iBACtDJ,EAAcM,cAAgB,EACrBT,GAAcG,EAAcO,cAAgBJ,OAAOC,mBAC5DJ,EAAcO,eAAiB,IAhBjCP,EAAgB,CACdC,WAAYR,EACZS,UAAWR,EAAS,EAAI,EACxBW,eAAgBV,EAAc,EAAI,EAClCW,aAAcV,EAAQ,EAAI,EAC1BW,cAAeV,EAAa,EAAI,GAElCC,EAAoBU,KAAKR,IAa3BnC,aAAayB,QAAQf,sBAAsBwB,iBAAkBhC,KAAKwB,UAAUO,KAa9EW,KAAM,cAEJlC,sBAAwB,CAC1BwB,iBAAkB,eAClBvB,6BAA8B,gCAMhCkC,SAASC,iBAAiB,mBAAoBlD,mBAAmBgD,QAAQ","file":"localStorageHelper.min.js","sourcesContent":["\"use strict\";\n\n/* * * * * * * * * * * * * * * * *\r\n * SessionStorageHelper\r\n * javascript page navigation\r\n * * * * * * * * * * * * * * * * */\nvar LocalStorageHelper = {\n  // --------------------\n  // Utility\n  // --------------------\n  // converting initialize data\n  Get: function Get(localStorageNamesEnum) {\n    var resultValue = localStorage.getItem(localStorageNamesEnum);\n    return !resultValue ? [] : JSON.parse(resultValue);\n  },\n  LogProductClassIdView: function LogProductClassIdView(productClassId, productName, productThumnailUrl, productUrl) {\n    var listProductClass = localStorage.getItem(LocalStorageNamesEnum.ViewProductClassificationIds);\n    debugger;\n    listProductClass = !listProductClass ? [] : JSON.parse(listProductClass);\n    var existProductClass = listProductClass.find(function (x) {\n      return x.Classificationid === productClassId;\n    });\n\n    if (!!existProductClass) {\n      listProductClass = listProductClass.filter(function (el) {\n        return el.Classificationid !== productClassId;\n      });\n    }\n\n    var productClassObject = {\n      Classificationid: productClassId,\n      ProductName: productName,\n      ProductThumnailUrl: productThumnailUrl,\n      ProductUrl: productUrl\n    };\n    listProductClass.unshift(productClassObject);\n    listProductClass.length = Math.min(listProductClass.length, 12);\n    localStorage.setItem(LocalStorageNamesEnum.ViewProductClassificationIds, JSON.stringify(listProductClass));\n  },\n  LogCategory: function LogCategory(categoryId, isView, isAddToCart, isPay, isComplete) {\n    var listComplexCategory = localStorage.getItem(LocalStorageNamesEnum.UserCategoryList);\n    listComplexCategory = !listComplexCategory ? [] : JSON.parse(listComplexCategory);\n    var existCategory = listComplexCategory.find(function (x) {\n      return x.CategoryId === categoryId;\n    });\n\n    if (!existCategory) {\n      existCategory = {\n        CategoryId: categoryId,\n        ViewCount: isView ? 1 : 0,\n        AddToCartCount: isAddToCart ? 1 : 0,\n        InOrderCount: isPay ? 1 : 0,\n        CompleteCount: isComplete ? 1 : 0\n      };\n      listComplexCategory.push(existCategory);\n    } else {\n      if (isView && existCategory.ViewCount < Number.MAX_SAFE_INTEGER) {\n        existCategory.ViewCount += 1;\n      } else if (isAddToCart && existCategory.AddToCartCount < Number.MAX_SAFE_INTEGER) {\n        existCategory.AddToCartCount += 1;\n      } else if (isPay && existCategory.InOrderCount < Number.MAX_SAFE_INTEGER) {\n        existCategory.InOrderCount += 1;\n      } else if (isComplete && existCategory.CompleteCount < Number.MAX_SAFE_INTEGER) {\n        existCategory.CompleteCount += 1;\n      }\n    }\n\n    localStorage.setItem(LocalStorageNamesEnum.UserCategoryList, JSON.stringify(listComplexCategory));\n  },\n  //RemoveCategory: function (proId) {\n  //    var listSaved = LocalStorageHelper._Get(LocalStorageNamesEnum.PropertySaved);\n  //    listSaved = (!listSaved) ? [] : JSON.parse(listSaved);\n  //    debugger;\n  //    listSaved.splice(0, 0, +proId);\n  //    listSaved = listSaved.GetUnique();\n  //    listSaved.length = listSaved.length < 5 ? listSaved.length : 5;\n  //    console.log(listSaved);\n  //    LocalStorageHelper._Save(LocalStorageNamesEnum.PropertySaved, JSON.stringify(listSaved), 7);\n  //},\n  // init\n  Init: function Init() {}\n};\nvar LocalStorageNamesEnum = {\n  UserCategoryList: \"CategoryList\",\n  ViewProductClassificationIds: \"ViewProductClassificationIds\"\n};\n/* * * * * * * * * * * * * * * * *\r\n* Initialization\r\n* * * * * * * * * * * * * * * * */\n\ndocument.addEventListener('DOMContentLoaded', LocalStorageHelper.Init(), false);"]}