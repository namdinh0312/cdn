"use strict";var listQuantities,chkOutOfStock,txtQuantity,attribute1Items,attribute2Items,productClassificationId,dataPrice,newestPostsContainer,btnReloadListProductByClassification,btnReloadListProductLazy,inputClassificationForms,inputProductAttributeForms,activeCategoryAttributes,curentPageClassification,curentPageProductAttribute,pageSizeFields,lockScrollNexProduct=!1;function loadProductWidget(){}function reloadNextProduct(){if(!(!Pagination.page||lockScrollNexProduct||Pagination.page>=Pagination.size)){var t;lockScrollNexProduct=!0,activeCategoryAttributes?(t="frmLoadComplexCategoryProductByCategoryAttributes",curentPageProductAttribute.value=Pagination.page+1):(t="frmLoadComplexCategoryProductByClassification",curentPageClassification.value=Pagination.page+1);var e=Pagination.page+1;console.log(e);var o=document.getElementById(t),a=new FormData(o);a.append("productWigetOnly","True"),AjaxRequest.SendFormData("POST",o.action,a,function(t,e){for(var o=document.querySelector("._flex-container"),a=Site.HtmlToElement(t),r=0;r<a.length;r++)o.appendChild(a[r]);Site.bLazy.revalidate(),setTimeout(function(){lockScrollNexProduct=!1,Pagination.Next()},1e3)},function(){setTimeout(function(){lockScrollNexProduct=!1},1e3)})}}function initBrand(){document.querySelector("[data-brand]");for(var t=document.querySelectorAll("[name=sortBy]"),e=0;e<t.length;e++)t[e].addEventListener("change",function(t){(Site.ClosePopup(),t.target.checked)&&(activeCategoryAttributes?(document.querySelector("#frmLoadComplexCategoryProductByCategoryAttributes [name=ProductSortbyEnum]").value=t.target.value,document.querySelector("#frmLoadComplexCategoryProductByCategoryAttributes [name=CurentPage]").value=0,activeCategoryAttributes=!0,btnReloadListProductLazy.click()):(document.querySelector("#frmLoadComplexCategoryProductByCategoryAttributes [name=ProductSortbyEnum]").value=t.target.value,document.querySelector("#frmLoadComplexCategoryProductByClassification [name=CurentPage]").value=0,activeCategoryAttributes=!1,btnReloadListProductByClassification.click()))})}function init(){activeCategoryAttributes=!0,btnReloadListProductByClassification=document.getElementById("btnReloadListProductByClassification"),btnReloadListProductLazy=document.getElementById("btnReloadListProductLazy"),inputClassificationForms=document.querySelectorAll("#frmLoadComplexCategoryProductByClassification [name^=AttributeModels]"),inputProductAttributeForms=document.querySelectorAll("#frmLoadComplexCategoryProductByCategoryAttributes [name^=AttributeModels]"),pageSizeFields=document.querySelectorAll("[name=PageSize]"),curentPageClassification=document.querySelector("#frmLoadComplexCategoryProductByClassification [name=CurentPage]"),curentPageProductAttribute=document.querySelector("#frmLoadComplexCategoryProductByCategoryAttributes [name=CurentPage]")}function initNoUiSlider(){document.querySelectorAll("._id-nouirange").forEach(function(t){var e=document.createElement("div"),o=t.querySelector("._id-min"),a=t.querySelector("._id-max");o.style.display="none ",a.style.display="none ";var r=o.getAttribute("min"),i=a.getAttribute("max");t.appendChild(e),t.noUiSlider=noUiSlider.create(e,{start:[o.value,a.value],connect:!0,step:1,tooltips:[WNumbHelper.longNumberFormatShort,WNumbHelper.longNumberFormatShort],range:{min:Number(r),max:Number(i)}}),e.noUiSlider.on("change",function(t){o.value=String(t[0]),a.value=String(t[1]),o.dispatchEvent(new Site.CreateEvent("change"))})})}function innitCheckboxFilter(){for(var t=0;t<inputClassificationForms.length;t++)inputClassificationForms[t].addEventListener("change",function(t){loadDefaultValuesGroup2(),document.querySelector("#frmLoadComplexCategoryProductByClassification [name=CurentPage]").value=0,btnReloadListProductByClassification.click(),activeCategoryAttributes=!1,console.log("Group 1 change")});for(var e=0;e<inputProductAttributeForms.length;e++)inputProductAttributeForms[e].addEventListener("change",function(t){loadDefaultValuesGroup1(),document.querySelector("#frmLoadComplexCategoryProductByCategoryAttributes [name=CurentPage]").value=0,btnReloadListProductLazy.click(),activeCategoryAttributes=!0,console.log("Group 2 change")})}function loadDefaultValuesGroup2(){document.querySelectorAll("#frmLoadComplexCategoryProductByCategoryAttributes input[type=checkbox]").forEach(function(t){t.checked=!1}),document.querySelectorAll("#frmLoadComplexCategoryProductByCategoryAttributes ._id-nouirange").forEach(function(t){t.noUiSlider.reset()})}function loadDefaultValuesGroup1(){document.querySelectorAll("#frmLoadComplexCategoryProductByClassification input[type=checkbox]").forEach(function(t){t.checked=!1}),document.querySelectorAll("#frmLoadComplexCategoryProductByClassification ._id-nouirange").forEach(function(t){t.noUiSlider.reset()})}function reloadListProductComplete(){Pagination.Run(),submitProductWidgetAction("._id-listProductPagings");for(var t=document.querySelectorAll("#pagination button"),e=0;e<t.length;e++)t[e].addEventListener("click",function(t){activeCategoryAttributes=activeCategoryAttributes?(curentPageProductAttribute.value=t.target.dataset.value,btnReloadListProductLazy.click(),!0):(curentPageClassification.value=t.target.dataset.value,btnReloadListProductByClassification.click(),!1)});var o=document.querySelectorAll("[data-page-size]");for(e=0;e<o.length;e++)o[e].addEventListener("click",function(t){for(var e=0;e<pageSizeFields.length;e++)pageSizeFields[e].value=t.target.dataset.pageSize;activeCategoryAttributes?(document.querySelector("#frmLoadComplexCategoryProductByCategoryAttributes [name=CurentPage]").value=0,activeCategoryAttributes=!0,btnReloadListProductLazy.click()):(activeCategoryAttributes=!1,document.querySelector("#frmLoadComplexCategoryProductByClassification [name=CurentPage]").value=0,btnReloadListProductByClassification.click())})}document.addEventListener("DOMContentLoaded",function(){(init(),document.querySelector("#frmLoadComplexCategoryProductByClassification [data-active-tab-number]"))&&(new TabPages).Init("#frmLoadComplexCategoryProductByClassification [data-active-tab-number]");document.querySelector("#frmLoadComplexCategoryProductByCategoryAttributes [data-active-tab-number]")&&(new TabPages).Init("#frmLoadComplexCategoryProductByCategoryAttributes [data-active-tab-number]");(Site.BindingOnCroll(),innitCheckboxFilter(Site.IsDesktopBackend()),Site.IsDesktopBackend())||document.getElementById("btnMobileSubmitFake").addEventListener("click",function(){activeCategoryAttributes=activeCategoryAttributes?(btnReloadListProductLazy.click(),!0):(btnReloadListProductByClassification.click(),!1),Site.ClosePopup()});initNoUiSlider(),reloadListProductComplete(),initBrand(),loadSuggestProducts()});
//# sourceMappingURL=category-products-index.min.js.map
