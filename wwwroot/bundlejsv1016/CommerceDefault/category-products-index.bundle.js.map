{"version":3,"sources":["tab-pages.js","product-list.js","suggest-products.js","viewed-products.js","custom-pagination.js","category-products-index.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3DA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"category-products-index.bundle.js","sourcesContent":["/* * * * * * * * * * * * * * * * *\r\n * Pagination\r\n * javascript page navigation\r\n * * * * * * * * * * * * * * * * */\r\n\r\nfunction TabPages() {\r\n    // converting initialize data\r\n    this.Extend = function (navElement, tabs, tabContains) {\r\n        var selectTabNumber = navElement.dataset.activeTabNumber;\r\n        this.SelectedTabNumber = +selectTabNumber || -1;\r\n        this.NavElement = navElement;\r\n        this.Tabs = tabs;\r\n        this.TabContains = tabContains;\r\n        this.Process();\r\n    };\r\n\r\n    this.Process = function () {\r\n        var self = this;\r\n        for (var i = 0; i < this.Tabs.length; i++) {\r\n            this.Tabs[i].addEventListener(\"click\",\r\n                function (eve) {\r\n                    if (!!eve.currentTarget.dataset.tabUrl) {\r\n                        history.replaceState(null, null, eve.currentTarget.dataset.tabUrl);\r\n                    }\r\n                    self.SelectedTabNumber = +eve.currentTarget.dataset.tab || -1;\r\n                    self.NavElement.dataset.activeTabNumber = self.SelectedTabNumber;\r\n\r\n                    Site.BeLazyRevalidate();\r\n                    if (!!eve.currentTarget.dataset.callback) {\r\n                        var tabContentElement = null;\r\n                        for (var j = 0; j < self.TabContains.length; j++) {\r\n                            if (self.TabContains[j].dataset.tabContent === eve.currentTarget.dataset.tab) {\r\n                                tabContentElement = self.TabContains[j];\r\n                                break;\r\n                            }\r\n                        }\r\n                        Site.GetFunction(eve.currentTarget.dataset.callback, [\"tabNumber\", \"tabContainerElement\"]).apply(eve.currentTarget, [self.SelectedTabNumber, tabContentElement]);\r\n                    }\r\n                });\r\n        }\r\n    };\r\n\r\n    // init\r\n    this.Init = function (selector) {\r\n        var navElement = document.querySelector(selector);\r\n\r\n        if (!navElement) {\r\n            return;\r\n        }\r\n\r\n        var tabs = navElement.parentNode.querySelectorAll(\"[data-tab]\");\r\n        var tabContents = navElement.parentNode.querySelectorAll(\"[data-tab-content]\");\r\n\r\n        this.Extend(navElement, tabs, tabContents);\r\n    };\r\n};/* * * * * * * * * * * * * * * * *\r\n * Pagination\r\n * javascript page navigation\r\n * * * * * * * * * * * * * * * * */\r\n","var btnSearchProductName;\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\",\r\n    function () {\r\n    });\r\n","\"use strict\";\r\n\r\nfunction loadSuggestProducts() {\r\n    var productClassObjs = LocalStorageHelper.Get(LocalStorageNamesEnum.UserCategoryList).sort(\r\n        (a, b) => (a.InOrderCount * 5 + a.CompleteCount * 3 + a.AddToCartCount * 2 + a.ViewCount >\r\n            b.InOrderCount * 5 + b.CompleteCount * 3 + b.AddToCartCount * 2 + b.ViewCount)\r\n        ? 1\r\n            : -1);\r\n    productClassObjs.length = Math.min(3, productClassObjs.length) ;\r\n\r\n    var inputContainer = document.querySelector(\"#formLazySuggestProduct #inputContainer\");\r\n    var html = \"\";\r\n\r\n    for (var i = 0; i < productClassObjs.length; i++) {\r\n        var inputCategoryId = '<input class=\"hide\" type=\"text\" name=\"CategoryLogModels[' + i + '].CategoryId\" value=\"' + productClassObjs[i].CategoryId + '\">';\r\n        var inputViewCount = '<input class=\"hide\" type=\"number\" name=\"CategoryLogModels[' + i + '].ViewCount\" value=\"' + productClassObjs[i].ViewCount + '\">';\r\n        var inputAddToCartCount = '<input class=\"hide\" type=\"number\" name=\"CategoryLogModels[' + i + '].AddToCartCount\" value=\"' + productClassObjs[i].AddToCartCount + '\">';\r\n        var inputInOrderCount = '<input class=\"hide\" type=\"number\" name=\"CategoryLogModels[' + i + '].InOrderCount\" value=\"' + productClassObjs[i].InOrderCount + '\">';\r\n        var inputCompleteCount = '<input class=\"hide\" type=\"number\" name=\"CategoryLogModels[' + i + '].CompleteCount\" value=\"' + productClassObjs[i].CompleteCount + '\">';\r\n        html += (inputCategoryId + inputViewCount + inputAddToCartCount + inputInOrderCount + inputCompleteCount);\r\n    }\r\n\r\n    inputContainer.innerHTML = html;\r\n    document.getElementById(\"btnReloadSuggestProduct\").click();\r\n}\r\n","\"use strict\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\",\r\n    function() {\r\n        loadUserViewedProduct();\r\n    });\r\n\r\nfunction loadUserViewedProduct() {\r\n    var productClassObjs = LocalStorageHelper.Get(LocalStorageNamesEnum.ViewProductClassificationIds);\r\n\r\n    if (!productClassObjs || !productClassObjs.length) {\r\n        return;\r\n    }\r\n\r\n    \r\n    var productViewedContainer = document.querySelector(\"#productViewedContainer\");\r\n\r\n    for (var i = 0; i < productClassObjs.length; i++) {\r\n        var productItem = productClassObjs[i];       \r\n        var strElement = '<a href=\"[ProductUrl]\" title=\"[ProductName]\" class=\"_image-wrap tablet-margin -tablet-margin-bottom rounded-4 border-1 solid border-silver padding-5\"> <img alt=\"[ProductName]\" class=\"b-lazy\" src=\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" data-src=\"[ProductThumnailUrl]\"></a>';\r\n        strElement = strElement.replace(/\\[ProductUrl\\]/g, productItem.ProductUrl);\r\n        strElement = strElement.replace(/\\[ProductName\\]/g, productItem.ProductName);\r\n        strElement = strElement.replace(/\\[ProductThumnailUrl\\]/g, productItem.ProductThumnailUrl);\r\n        productItem = Site.HtmlToElement(strElement);\r\n        productViewedContainer.appendChild(productItem[0]);\r\n    }\r\n\r\n    Site.BeLazyRevalidate();\r\n}","/* * * * * * * * * * * * * * * * *\r\n * Pagination\r\n * javascript page navigation\r\n * https://codepen.io/karpovsystems/pen/fFHxK\r\n * * * * * * * * * * * * * * * * */\r\n\r\nvar Pagination = {\r\n\r\n    code: '',\r\n\r\n    // --------------------\r\n    // Utility\r\n    // --------------------\r\n\r\n    // converting initialize data\r\n    Extend: function (data) {\r\n        data = data || {};\r\n        Pagination.size = data.size ? parseInt(data.size) : 0;\r\n        Pagination.page = data.page ? parseInt(data.page) : 0;\r\n        Pagination.step = data.step ? parseInt(data.step) : 0;\r\n        Pagination.tagName = data.tagName || 'a';\r\n        Pagination.attribute = data.attribute || '';\r\n        Pagination.hrefToken = data.hrefToken || '';\r\n        Pagination.showValue = !!data.showValue || false;\r\n        Pagination.submitFromAttributes = data.form != null\r\n            ? ('form=\"' + data.form + '\" type=submit name=\"PageNumber\"')\r\n            : \"\";\r\n        Pagination.hover = data.hover || '';\r\n        Pagination.itemClassName = '';\r\n        if (!!data.hover) {\r\n            Pagination.itemClassName += \" class='hover-tooltip' \";\r\n        }\r\n    },\r\n\r\n    // add pages by number (from [s] to [f])\r\n    Add: function (s, f) {\r\n        for (let i = s; i < f; i++) {\r\n            const url = Pagination.hrefToken ? 'href=\"' + Pagination.hrefToken.replace(\"{PAGE}\", i) + '\"' : \"\";\r\n            const value = Pagination.showValue ? 'value=\"' + i + '\"' : \"\";\r\n            const hoverElement = Pagination.hover\r\n                ? \"<span class='tooltip top'>\" + Pagination.hover.replace(\"{PAGE}\", i) + \"</span>\" : \"\";\r\n            Pagination.code += '<li' + Pagination.itemClassName + '><' + Pagination.tagName + ' ' + Pagination.submitFromAttributes + ' ' + url + ' ' + value + ' ' + Pagination.attribute + 'data-value=' + i + ' >' + i + '</' + Pagination.tagName + '>' + hoverElement +'</li>';\r\n        }\r\n    },\r\n\r\n    // add last page with separator\r\n    Last: function () {\r\n        const url = Pagination.hrefToken ? 'href=\"' + Pagination.hrefToken.replace(\"{PAGE}\", (Pagination.size > 1 ? Pagination.size : 1)) + '\"' : \"\";\r\n        const value = Pagination.showValue ? 'value=\"' + (Pagination.size > 1 ? Pagination.size : 1) + '\"' : \"\";\r\n        const hoverElement = Pagination.hover\r\n            ? \"<span class='tooltip top'>\" + Pagination.hover.replace(\"{PAGE}\", (Pagination.size > 1 ? Pagination.size : 1)) + \"</span>\" : \"\";\r\n        Pagination.code += '<i>...</i><li data-last ' + Pagination.itemClassName + ' ><' + Pagination.tagName + ' ' + Pagination.submitFromAttributes + ' ' + url + ' ' + value + ' ' + Pagination.attribute + 'data-value=' + Pagination.size + '>' + Pagination.size + '</' + Pagination.tagName + '>' + hoverElement +'</li>';\r\n    },\r\n\r\n    // add first page with separator\r\n    First: function () {\r\n        const url = Pagination.hrefToken ? 'href=\"' + Pagination.hrefToken.replace(\"{PAGE}\", 1) + '\"' : \"\";\r\n        const value = Pagination.showValue ? 'value=\"' + 1 + '\"' : \"\";\r\n        const hoverElement = Pagination.hover\r\n            ? \"<span class='tooltip top'>\" + Pagination.hover.replace(\"{PAGE}\", 1) + \"</span>\" : \"\";\r\n        Pagination.code += '<li data-first ' + Pagination.itemClassName + '><' + Pagination.tagName + ' ' + Pagination.submitFromAttributes + ' ' + url + ' ' + value + ' ' + Pagination.attribute + ' data-value=1>1</' + Pagination.tagName + '>' + hoverElement +'</li><i>...</i>';\r\n    },\r\n\r\n\r\n\r\n    // --------------------\r\n    // Handlers\r\n    // --------------------\r\n\r\n    // change page\r\n    Click: function () {\r\n        Pagination.page = +this.innerHTML;\r\n        Pagination.Start();\r\n    },\r\n\r\n    // previous page\r\n    Prev: function () {\r\n        Pagination.page--;\r\n        if (Pagination.page < 1) {\r\n            Pagination.page = 1;\r\n        }\r\n        Pagination.Start();\r\n    },\r\n\r\n    // next page\r\n    Next: function (increNumber=1) {\r\n        Pagination.page += increNumber;\r\n        if (Pagination.page > Pagination.size) {\r\n            Pagination.page = Pagination.size;\r\n        }\r\n        Pagination.Start();\r\n    },\r\n\r\n\r\n\r\n    // --------------------\r\n    // Script\r\n    // --------------------\r\n\r\n    // binding pages\r\n    Bind: function () {\r\n        const a = Pagination.e.getElementsByTagName(Pagination.tagName);\r\n        for (let i = 0; i < a.length; i++) {\r\n            if (+a[i].innerHTML === Pagination.page) {\r\n                a[i].parentElement.className = 'current';\r\n            }\r\n\r\n            if (!Pagination.submitFromAttributes) {\r\n                a[i].addEventListener('click', Pagination.Click, false);\r\n            }\r\n\r\n        }\r\n    },\r\n\r\n    // write pagination\r\n    Finish: function () {\r\n        Pagination.e.innerHTML = Pagination.code;\r\n        Pagination.code = '';\r\n        Pagination.Bind();\r\n    },\r\n\r\n    // find pagination type\r\n    Start: function () {\r\n        if (Pagination.size < Pagination.step * 2 + 6) {\r\n            Pagination.Add(1, Pagination.size + 1);\r\n        }\r\n        else if (Pagination.page < Pagination.step * 2 + 1) {\r\n            Pagination.Add(1, Pagination.step * 2 + 4);\r\n            Pagination.Last();\r\n        }\r\n        else if (Pagination.page > Pagination.size - Pagination.step * 2) {\r\n            Pagination.First();\r\n            Pagination.Add(Pagination.size - Pagination.step * 2 - 2, Pagination.size + 1);\r\n        }\r\n        else {\r\n            Pagination.First();\r\n            Pagination.Add(Pagination.page - Pagination.step, Pagination.page + Pagination.step + 1);\r\n            Pagination.Last();\r\n        }\r\n        Pagination.Finish();\r\n    },\r\n\r\n\r\n\r\n    // --------------------\r\n    // Initialization\r\n    // --------------------\r\n\r\n    // binding buttons\r\n    Buttons: function (e) {\r\n        const nav = e.getElementsByTagName(Pagination.tagName);\r\n        nav[0].addEventListener('click', Pagination.Prev, false);\r\n        nav[1].addEventListener('click', Pagination.Next, false);\r\n    },\r\n\r\n    // create skeleton\r\n    Create: function (e) {\r\n        const urlPageStart = Pagination.hrefToken ? 'href=\"' + Pagination.hrefToken.replace(\"{PAGE}\", (Pagination.page > 1 ? Pagination.page - 1 : 1)) + '\"' : \"\";\r\n        const urlPageEnd = Pagination.hrefToken ? 'href=\"' + Pagination.hrefToken.replace(\"{PAGE}\", (Pagination.size > Pagination.page ? Pagination.page + 1 : Pagination.size)) + '\"' : \"\";\r\n        const valueStart = Pagination.showValue ? 'value=\"' + (Pagination.page > 1 ? Pagination.page - 1 : 1) + '\"' : \"\";\r\n        const valueEnd = Pagination.showValue ? 'value=\"' + (Pagination.page > 1 ? Pagination.page - 1 : 1) + '\"' : \"\";\r\n        //const hoverElementStart = Pagination.hover\r\n        //    ? \"<span class='tooltip top'>\" + Pagination.hover.replace(\"{PAGE}\", (Pagination.page > 1 ? Pagination.page - 1 : 1)) + \"</span>\" : \"\";\r\n        //const hoverElementEnd = Pagination.hover\r\n        //    ? \"<span class='tooltip top'>\" + Pagination.hover.replace(\"{PAGE}\", (Pagination.size > Pagination.page ? Pagination.page + 1 : Pagination.size)) + \"</span>\" : \"\";\r\n        const html = [\r\n            '<li' + Pagination.itemClassName + '><' + Pagination.tagName + ' class=\"pre\" ' + Pagination.submitFromAttributes + ' ' + valueStart + ' ' + Pagination.attribute + ' ' + urlPageStart + ' data-value=' + (Pagination.page > 1 ? Pagination.page : 1) + ' >&#9668;</' + Pagination.tagName + '></li>', // previous button\r\n            '<span></span>',  // pagination container\r\n            '<li' + Pagination.itemClassName + '><' + Pagination.tagName + ' class=\"next\" ' + Pagination.submitFromAttributes + ' ' + valueEnd + ' ' + Pagination.attribute + ' ' + urlPageEnd + ' data-value=' + (Pagination.size > Pagination.page ? Pagination.page + 1 : Pagination.size) + ' >&#9658;</' + Pagination.tagName + '></li>'  // next button\r\n        ];\r\n\r\n        e.innerHTML = html.join('');\r\n        Pagination.e = e.getElementsByTagName('span')[0];\r\n        Pagination.Buttons(e);\r\n    },\r\n\r\n    // init\r\n    Init: function (e, data) {\r\n        Pagination.Extend(data);\r\n        Pagination.Create(e);\r\n        Pagination.Start();\r\n    },\r\n    Run: function () {\r\n        const pagingContainers = document.getElementsByClassName('_p-gination');\r\n        for (let i = 0; i < pagingContainers.length; i++) {\r\n            const ele = pagingContainers[i];\r\n            Pagination.Init(ele, ele.dataset);\r\n        }\r\n    }\r\n};\r\n\r\n\r\n\r\n/* * * * * * * * * * * * * * * * *\r\n* Initialization\r\n* * * * * * * * * * * * * * * * */\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', Pagination.Run(), false);\r\n\r\n\r\n","\"use strict\";\r\nvar listQuantities, chkOutOfStock, txtQuantity, attribute1Items, attribute2Items, productClassificationId, dataPrice, newestPostsContainer;\r\nvar btnReloadListProductByClassification, btnReloadListProductLazy, inputClassificationForms, inputProductAttributeForms;\r\nvar activeCategoryAttributes, curentPageClassification, curentPageProductAttribute, pageSizeFields;\r\nvar lockScrollNexProduct = false;\r\ndocument.addEventListener(\"DOMContentLoaded\",\r\n    function () {\r\n        init();\r\n\r\n        if (!!document.querySelector(\"#frmLoadComplexCategoryProductByClassification [data-active-tab-number]\")) {\r\n            var tab1s = new TabPages();\r\n            tab1s.Init(\"#frmLoadComplexCategoryProductByClassification [data-active-tab-number]\");\r\n        }\r\n\r\n        if (!!document.querySelector(\"#frmLoadComplexCategoryProductByCategoryAttributes [data-active-tab-number]\")) {\r\n            var tab2s = new TabPages();\r\n            tab2s.Init(\"#frmLoadComplexCategoryProductByCategoryAttributes [data-active-tab-number]\");\r\n        }\r\n      \r\n\r\n        Site.BindingOnCroll();\r\n        innitCheckboxFilter(Site.IsDesktopBackend());\r\n\r\n        if (!Site.IsDesktopBackend()) {\r\n            var btnFillter = document.getElementById(\"btnMobileSubmitFake\");\r\n            btnFillter.addEventListener(\"click\", function() {\r\n                if (!!activeCategoryAttributes) {\r\n                    btnReloadListProductLazy.click();\r\n                    activeCategoryAttributes = true;\r\n                } else {\r\n                    btnReloadListProductByClassification.click();\r\n                    activeCategoryAttributes = false;\r\n                }\r\n\r\n                Site.ClosePopup();\r\n            });\r\n        }\r\n\r\n        initNoUiSlider();\r\n        reloadListProductComplete();\r\n       \r\n        //for brand only\r\n        initBrand();\r\n        loadSuggestProducts();\r\n    });\r\n\r\nfunction loadProductWidget() {\r\n    debugger;\r\n}\r\n\r\nfunction reloadNextProduct() {\r\n  \r\n    if (!Pagination.page ||lockScrollNexProduct || Pagination.page >= Pagination.size) {\r\n        return;\r\n    }\r\n    lockScrollNexProduct = true;\r\n  \r\n    var formName;\r\n    if (!!activeCategoryAttributes) {\r\n        formName = \"frmLoadComplexCategoryProductByCategoryAttributes\";\r\n        curentPageProductAttribute.value = Pagination.page+1;\r\n    } else {\r\n        formName = \"frmLoadComplexCategoryProductByClassification\";\r\n        curentPageClassification.value = Pagination.page+1;\r\n    }\r\n\r\n    var nextPage = Pagination.page + 1;\r\n    console.log(nextPage);\r\n    var formElement = document.getElementById(formName);\r\n    var formData = new FormData(formElement);\r\n    formData.append(\"productWigetOnly\", \"True\");\r\n    AjaxRequest.SendFormData(\"POST\",\r\n        formElement.action, formData,\r\n        function (response, status) {\r\n            var flexContainer = document.querySelector(\"._flex-container\");\r\n            var productWidgets = Site.HtmlToElement(response);\r\n\r\n            for (var i = 0; i < productWidgets.length; i++) {\r\n                flexContainer.appendChild(productWidgets[i]);\r\n            }\r\n            Site.bLazy.revalidate();\r\n           \r\n            setTimeout(function () {\r\n                lockScrollNexProduct = false;\r\n                Pagination.Next();\r\n            }, 1000);\r\n           \r\n        },\r\n        function () {\r\n            setTimeout(function () {\r\n                lockScrollNexProduct = false;\r\n            }, 1000);\r\n        });\r\n\r\n}\r\n\r\nfunction initBrand() {\r\n    var brandHeader = document.querySelector(\"[data-brand]\");\r\n\r\n    if (!!brandHeader) {\r\n        //var backgroundImage = \"url(\"+ brandHeader.dataset.backgroundImage+\")\";\r\n        //var dataHead = document.querySelector(\"[data-head]\");\r\n        //dataHead.style.backgroundImage = backgroundImage;\r\n        //var dataBlackGround = document.querySelector(\"[data-main-section] [data-black-row]\");\r\n        //dataBlackGround.style.backgroundImage = backgroundImage;\r\n        //var body = document.querySelector(\"body\");\r\n        //body.setAttribute(\"data-brand-page\",\"\");\r\n    }\r\n\r\n\r\n    var chkSortBys = document.querySelectorAll(\"[name=sortBy]\");\r\n    for (var i = 0; i < chkSortBys.length; i++) {\r\n        chkSortBys[i].addEventListener(\"change\", function (eve) {\r\n            Site.ClosePopup();\r\n            if (eve.target.checked) {\r\n                if (!!activeCategoryAttributes) {\r\n                    const sortbyElement = document.querySelector(\"#frmLoadComplexCategoryProductByCategoryAttributes [name=ProductSortbyEnum]\");\r\n                    sortbyElement.value = eve.target.value;\r\n                    const curentPage = document.querySelector(\"#frmLoadComplexCategoryProductByCategoryAttributes [name=CurentPage]\");\r\n                    curentPage.value = 0;\r\n                    activeCategoryAttributes = true;\r\n                    btnReloadListProductLazy.click();\r\n\r\n                } else {\r\n                    const sortbyElement = document.querySelector(\"#frmLoadComplexCategoryProductByCategoryAttributes [name=ProductSortbyEnum]\");\r\n                    sortbyElement.value = eve.target.value;\r\n                    const curentPage = document.querySelector(\"#frmLoadComplexCategoryProductByClassification [name=CurentPage]\");\r\n                    curentPage.value = 0;\r\n                    activeCategoryAttributes = false;\r\n                    btnReloadListProductByClassification.click();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n\r\nfunction init() {\r\n    activeCategoryAttributes = true;\r\n    btnReloadListProductByClassification = document.getElementById(\"btnReloadListProductByClassification\");\r\n    btnReloadListProductLazy = document.getElementById(\"btnReloadListProductLazy\");\r\n    inputClassificationForms = document.querySelectorAll(\"#frmLoadComplexCategoryProductByClassification [name^=AttributeModels]\");\r\n    inputProductAttributeForms = document.querySelectorAll(\"#frmLoadComplexCategoryProductByCategoryAttributes [name^=AttributeModels]\");\r\n    pageSizeFields = document.querySelectorAll(\"[name=PageSize]\");\r\n    curentPageClassification = document.querySelector(\"#frmLoadComplexCategoryProductByClassification [name=CurentPage]\");\r\n    curentPageProductAttribute = document.querySelector(\"#frmLoadComplexCategoryProductByCategoryAttributes [name=CurentPage]\");\r\n}\r\n\r\nfunction initNoUiSlider() {\r\n    document.querySelectorAll('._id-nouirange').forEach(function (el) {\r\n        let htmlinsert = document.createElement('div');\r\n        let realmininput = el.querySelector('._id-min');\r\n        let realmaxinput = el.querySelector('._id-max');\r\n        realmininput.style.display = \"none \";\r\n        realmaxinput.style.display = \"none \";\r\n        let min = realmininput.getAttribute('min');\r\n        let max = realmaxinput.getAttribute('max');\r\n        el.appendChild(htmlinsert);\r\n       \r\n        el.noUiSlider = noUiSlider.create(htmlinsert,\r\n            {\r\n                start: [realmininput.value, realmaxinput.value],\r\n                connect: true,\r\n                step: 1,\r\n                tooltips: [WNumbHelper.longNumberFormatShort, WNumbHelper.longNumberFormatShort],\r\n                range: {\r\n                    'min': Number(min),\r\n                    'max': Number(max)\r\n                }\r\n            });\r\n        htmlinsert.noUiSlider.on('change',\r\n            function(values) {\r\n                let rangevals = values;\r\n                realmininput.value = String(values[0]);\r\n                realmaxinput.value = String(values[1]);\r\n                realmininput.dispatchEvent(new Site.CreateEvent(\"change\"));\r\n            });\r\n    });\r\n}\r\n\r\nfunction innitCheckboxFilter() {\r\n    \r\n\r\n    for (let i = 0; i < inputClassificationForms.length; i++) {\r\n        inputClassificationForms[i].addEventListener(\"change\", function (eve) {\r\n            loadDefaultValuesGroup2();\r\n\r\n            const curentPage = document.querySelector(\"#frmLoadComplexCategoryProductByClassification [name=CurentPage]\");\r\n            curentPage.value = 0;\r\n            btnReloadListProductByClassification.click();\r\n            activeCategoryAttributes = false;\r\n            console.log(\"Group 1 change\");\r\n        });\r\n    }\r\n\r\n    \r\n\r\n    for (let i = 0; i < inputProductAttributeForms.length; i++) {\r\n        inputProductAttributeForms[i].addEventListener(\"change\", function (eve) {\r\n            loadDefaultValuesGroup1();\r\n\r\n            const curentPage = document.querySelector(\"#frmLoadComplexCategoryProductByCategoryAttributes [name=CurentPage]\");\r\n            curentPage.value = 0;\r\n            btnReloadListProductLazy.click();\r\n            activeCategoryAttributes = true;\r\n            console.log(\"Group 2 change\");\r\n        });\r\n    }\r\n}\r\n\r\nfunction loadDefaultValuesGroup2() {\r\n\r\n    document.querySelectorAll('#frmLoadComplexCategoryProductByCategoryAttributes input[type=checkbox]').forEach(function (el) {\r\n        el.checked = false;\r\n    });\r\n\r\n    document.querySelectorAll('#frmLoadComplexCategoryProductByCategoryAttributes ._id-nouirange').forEach(function (el) {\r\n        el.noUiSlider.reset();\r\n    });\r\n}\r\n\r\nfunction loadDefaultValuesGroup1() {\r\n    document.querySelectorAll('#frmLoadComplexCategoryProductByClassification input[type=checkbox]').forEach(function (el) {\r\n        el.checked = false;\r\n    });\r\n\r\n    document.querySelectorAll('#frmLoadComplexCategoryProductByClassification ._id-nouirange').forEach(function(el) {\r\n        el.noUiSlider.reset();\r\n    });\r\n}\r\n\r\n\r\nfunction reloadListProductComplete() {\r\n    Pagination.Run();\r\n    submitProductWidgetAction(\"._id-listProductPagings\");\r\n    var pagingBtns = document.querySelectorAll(\"#pagination button\");\r\n\r\n    for (var i = 0; i < pagingBtns.length; i++) {\r\n        pagingBtns[i].addEventListener(\"click\", function(eve) {\r\n            if (!!activeCategoryAttributes) {\r\n                curentPageProductAttribute.value = eve.target.dataset.value;\r\n                btnReloadListProductLazy.click();\r\n                activeCategoryAttributes = true;\r\n            } else {\r\n                curentPageClassification.value = eve.target.dataset.value;\r\n                btnReloadListProductByClassification.click();\r\n                activeCategoryAttributes = false;\r\n            }\r\n        });\r\n    }\r\n\r\n    var pageSizes = document.querySelectorAll(\"[data-page-size]\");\r\n    for (var i = 0; i < pageSizes.length; i++) {\r\n        pageSizes[i].addEventListener(\"click\", function (eve) {\r\n            for (var j = 0; j < pageSizeFields.length; j++) {\r\n                pageSizeFields[j].value = eve.target.dataset.pageSize;\r\n            }\r\n\r\n            if (!!activeCategoryAttributes) {\r\n                const curentPage = document.querySelector(\"#frmLoadComplexCategoryProductByCategoryAttributes [name=CurentPage]\");\r\n                curentPage.value = 0;\r\n                activeCategoryAttributes = true;\r\n                btnReloadListProductLazy.click();\r\n            } else {\r\n                activeCategoryAttributes = false;\r\n                const curentPage = document.querySelector(\"#frmLoadComplexCategoryProductByClassification [name=CurentPage]\");\r\n                curentPage.value = 0;\r\n                btnReloadListProductByClassification.click();\r\n            }\r\n        });\r\n    }\r\n\r\n    \r\n}"]}