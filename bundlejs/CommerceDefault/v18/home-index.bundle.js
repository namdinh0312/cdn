"use strict";var fileUploadNewReview,imputDocumentFile,btnLazyLoadProducts,imageCaptcha;function loadDiscountCodeSliderForMobile(){if(Site.IsMobileBackend())new Swiper("._idDiscountCodeListContainer.swiper-container",{centeredSlides:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}function initListVoucher(){for(var e=document.querySelectorAll("[data-generate-barcode]"),t=0;t<e.length;t++)new QRCode(e[t],{text:e[t].dataset.generateBarcode,width:64,height:64,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.L});loadCountDown()}function loadCountDown(){var d=0;setInterval(function(){d-=1;for(var e=document.querySelectorAll("._idDiscountCodeListContainer [data-count-down]"),t=0;t<e.length;t++){if(!e)return;var n=e[t].dataset.countDown,o=Math.floor(n/86400),a=n%86400+d;if(-1===(a-=1))return void clearInterval(counter);var i=a%60,r=Math.floor(a/60),l=Math.floor(r/60);(r%=60)<10&&(r="0"+r),(l%=60)<10&&(l="0"+l),i<10&&(i="0"+i),e[t].innerHTML=(0<o?o+" ngÃ y<br> ":"")+"<span count-down>"+l+":"+r+":"+i+"</span>"}},1e3)}function initContactForm(){(imageCaptcha=document.querySelector("[data-captcha-container] ._image-wrap"))&&imageCaptcha.addEventListener("click",function(e){reloadImage()}),innitFileUploadContactForm()}function innitFileUploadContactForm(){if(imputDocumentFile=document.getElementById("inputDetailFromFile")){var e=imputDocumentFile.dataset.curentPathFiles&&""!==imputDocumentFile.dataset.curentPathFiles?[imputDocumentFile.dataset.curentPathFiles]:null,t=imputDocumentFile.dataset.curentShowingImages&&""!==imputDocumentFile.dataset.curentShowingImages?[imputDocumentFile.dataset.curentShowingImages]:null,n=imputDocumentFile.dataset.maxFile&&""!==imputDocumentFile.dataset.maxFile?+imputDocumentFile.dataset.maxFile:3,o=imputDocumentFile.dataset.maxFile&&""!==imputDocumentFile.dataset.maxSize?+imputDocumentFile.dataset.maxSize:5;(fileUploadNewReview=new FileUpload).Init(null,e,t,"#inputDetailFromFile","#newReviewContainer","#newReviewContainer","#frmContact",n,console.log("change"),!0,"DetailFormFile",o)}}function clearform(){$("#frmContact")[0].reset();var e=document.getElementById("newReviewContainer");e&&(e.innerHTML="")}function reloadImage(){var e=new Date;$("#img-captcha").attr("src","/get-captcha-image?"+e.getTime())}function loadSuggestProducts(){var e=document.querySelector("#formLazySuggestProduct #inputContainer");if(e){var t=LocalStorageHelper.Get(LocalStorageNamesEnum.UserCategoryList).sort(function(e,t){return 5*e.InOrderCount+3*e.CompleteCount+2*e.AddToCartCount+e.ViewCount>5*t.InOrderCount+3*t.CompleteCount+2*t.AddToCartCount+t.ViewCount?1:-1});t.length=Math.min(3,t.length);for(var n="",o=0;o<t.length;o++){n+='<input class="hide" type="text" name="CategoryLogModels['+o+'].CategoryId" value="'+t[o].CategoryId+'">'+('<input class="hide" type="number" name="CategoryLogModels['+o+'].ViewCount" value="'+t[o].ViewCount+'">')+('<input class="hide" type="number" name="CategoryLogModels['+o+'].AddToCartCount" value="'+t[o].AddToCartCount+'">')+('<input class="hide" type="number" name="CategoryLogModels['+o+'].InOrderCount" value="'+t[o].InOrderCount+'">')+('<input class="hide" type="number" name="CategoryLogModels['+o+'].CompleteCount" value="'+t[o].CompleteCount+'">')}e.innerHTML=n,document.getElementById("btnReloadSuggestProduct").click()}}function loadUserViewedProduct(){var e=LocalStorageHelper.Get(LocalStorageNamesEnum.ViewProductClassificationIds);if(e&&e.length){var t=document.querySelector("#productViewedContainer"),n=e.length;t.dataset.itemCount&&(n=Math.min(n,t.dataset.itemCount));for(var o=0;o<n;o++){var a=e[o],i='<a href="[ProductUrl]" title="[ProductName]" class="_image-wrap -tablet-margin-bottom rounded-4 border-1 solid border-silver padding-5"> <img alt="[ProductName]" loading="lazy" class="r-lazy" src="[ProductThumnailUrl]"></a>';i=(i=(i=i.replace(/\[ProductUrl\]/g,a.ProductUrl)).replace(/\[ProductName\]/g,a.ProductName)).replace(/\[ProductThumnailUrl\]/g,a.ProductThumnailUrl),a=Site.HtmlToElement(i),t.appendChild(a[0])}}}function pushNotificationCallBack(){PushNotifications.bindingUi("[data-contact]")}function init(){btnLazyLoadProducts=document.querySelectorAll("form[data-selector-lazyload-products] [type='submit']")}function lazyloadCategoriesProduct(){for(var e=0;e<btnLazyLoadProducts.length;e++)btnLazyLoadProducts[e].click()}function loadFlashSaleSwiper(){widgetFlashSaleSwiper(2,4,5)}function loadSwipper(e){e=e||".swiper-container",e+=" ",console.log(e);new Swiper(e,{autoplay:{delay:4e3,disableOnInteraction:!1},navigation:{nextEl:e+".swiper-button-next",prevEl:e+".swiper-button-prev"}})}function loadSwipperHome(e){new Swiper(e,{pagination:{el:e+" [data-pagination-1]",dynamicBullets:!0},autoplay:{delay:4e3,disableOnInteraction:!1},navigation:{nextEl:e+".swiper-button-next",prevEl:e+".swiper-button-prev"}})}function loadBrandSwipper(e){var t=document.querySelector("[data-device=Mobile]"),n=document.querySelector("[data-device=Desktop]"),o=8;t?o=3:n||(o=5);new Swiper(e+" .swiper-container",{slidesPerView:o,slidesPerGroup:o,loop:!0,loopFillGroupWithBlank:!0,spaceBetween:10,navigation:{nextEl:e+" .swiper-button-next-brand",prevEl:e+" .swiper-button-prev-brand"}})}document.addEventListener("DOMContentLoaded",function(){loadUserViewedProduct()}),document.addEventListener("DOMContentLoaded",function(){init(),loadSwipperHome("[data-container-slider] .swiper-container"),loadSwipper("[data-review] .swiper-container"),loadBrandSwipper("[data-brand-name]"),lazyloadCategoriesProduct(),PushNotifications.initialize(pushNotificationCallBack),loadSuggestProducts(),initListVoucher()}),window.addEventListener&&window.addEventListener("load",function(){submitProductWidgetAction("[data-bestseller]"),submitProductWidgetAction("[data-new-products]")}),window.onload=function(){submitProductWidgetAction("[data-bestseller]"),submitProductWidgetAction("[data-new-products]")};